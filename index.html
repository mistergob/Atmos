var width = window.innerWidth,
    height = window.innerHeight;

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var nodes = [
 {id: 1, x: 200, y: 200},
 {id: 2, x: 300, y: 200},
 // Ajoutez d'autres noeuds ici
];

var circles = svg.selectAll("circle")
    .data(nodes)
    .enter().append("circle")
    .attr("r", 50)
    .attr("cx", function(d) { return d.x; })
    .attr("cy", function(d) { return d.y; })
    .call(d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended));

function dragstarted(d) {
 d3.event.sourceEvent.stopPropagation();
}

function dragged(d) {
 d3.select(this)
      .attr("cx", d.x = d3.event.x)
      .attr("cy", d.y = d3.event.y);

 updateLines();
}

function dragended(d) {
 updateLines();
}

var lines = svg.selectAll("line");

function updateLines() {
 var lineData = [];

 nodes.forEach(function(node1, index1) {
    nodes.forEach(function(node2, index2) {
      if (index1 != index2 && Math.abs(node1.x - node2.x) < 100 && Math.abs(node1.y - node2.y) < 100)
